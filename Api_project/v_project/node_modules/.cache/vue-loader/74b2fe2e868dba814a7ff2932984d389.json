{"remainingRequest":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/src/views/User_detail.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/src/views/User_detail.vue","mtime":1656245064653},{"path":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzijia/Downloads/peixun_project/Api_project/v_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n   .avatar-uploader .el-upload {\n   border: 1px dashed #d9d9d9;\n   border-radius: 6px;\n   cursor: pointer;\n   position: relative;\n   overflow: hidden;\n }\n .avatar-uploader .el-upload:hover {\n   border-color: #409EFF;\n }\n .avatar-uploader-icon {\n   font-size: 28px;\n   color: #8c939d;\n   width: 178px;\n     height: 178px;\n     line-height: 178px;\n   text-align: center;\n }\n .avatar {\n   width: 178px;\n   height: 178px;\n   display: block;\n }\n\n\n.el-aside {\n   background-color: #D3DCE6;\n   color: #333;\n   text-align: center;\n\n }\n .el-main {\n   background-color: white;\n   color: #333;\n }\n",{"version":3,"sources":["User_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"User_detail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div style=\"height: 100%\">\n       <el-container style=\"height: 100%\">\n           <el-aside style=\"width: 200px\">\n                <Menu></Menu>\n           </el-aside>\n\n           <el-main>\n                <h1>个人资料设置</h1>\n                <el-form ref=\"form\" :model=\"form_data\" label-width=\"100px\" :label-position=\"'left'\">\n                    <el-form-item label=\"您的用户名\">\n                        <el-input v-model=\"form_data.user_name\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item label=\"您的密码\">\n                        <el-input v-model=\"form_data.password\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item label=\"职位头衔\">\n                        <el-input v-model=\"form_data.title\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item label=\"头像\">\n                        <el-upload\n                          class=\"avatar-uploader\"\n                          action=\"http://localhost:8000/upload_user_avatar/\"\n                          :show-file-list=\"false\"\n                          :on-success=\"handleAvatarSuccess\"\n                            name=\"user_avatar\"\n                            >\n                          <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                          <i v-else class=\"el-icon-plus avatar-uploader-icon\" style=\"line-height: 178px\" ></i>\n                        </el-upload>\n                    </el-form-item>\n\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"save_user_detail\">保存生效</el-button>\n                    </el-form-item>\n\n\n                </el-form>\n           </el-main>\n       </el-container>\n    </div>\n</template>\n\n<script>\n    import Menu from '../components/Menu'\n    import axios from 'axios'\n    export default {\n        name: \"User_detail\",\n        data(){\n            return{\n                imageUrl: '',\n                form_data:{\n                    user_name:'',\n                    password:'',\n                    title:'',\n                    user_id:'',\n                }\n            }\n        },\n        methods:{\n          save_user_detail(){\n              axios.post('http://localhost:8000/save_user_detail/',this.form_data).then(res=>{\n                  this.$message({\n                      message:'保存成功',\n                      type:'success',\n                  })\n              })\n          },\n            handleAvatarSuccess(res, file) {\n                this.imageUrl = URL.createObjectURL(file.raw);\n              },\n              beforeAvatarUpload(file) {\n                const isJPG = file.type === 'image/jpeg';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n                if (!isJPG) {\n                  this.$message.error('上传头像图片只能是 JPG 格式!');\n                }\n                if (!isLt2M) {\n                  this.$message.error('上传头像图片大小不能超过 2MB!');\n                }\n                return isJPG && isLt2M;\n              }\n        },\n        mounted(){\n          axios.get('http://localhost:8000/get_user_detail/').then(res=>{\n              this.form_data = res.data;\n              this.imageUrl = '/static/user_avatar/userImg_'+res.data.user_id+'.jpg'\n          })\n        },\n        components:{\n            Menu\n        }\n    }\n</script>\n<style >\n\n    .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n      height: 178px;\n      line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n\n\n .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n\n  }\n  .el-main {\n    background-color: white;\n    color: #333;\n  }\n</style>"]}]}