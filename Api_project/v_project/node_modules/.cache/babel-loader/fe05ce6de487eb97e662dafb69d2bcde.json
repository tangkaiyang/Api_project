{"remainingRequest":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\babel-loader\\lib\\index.js!D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\src\\views\\Api_shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\src\\views\\Api_shop.vue","mtime":1659873822000},{"path":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\babel.config.js","mtime":1653811334000},{"path":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\0诺诺\\Projects\\Api_project\\Api_project\\v_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Menu from \"../components/Menu\";\nimport axios from 'axios';\nexport default {\n  name: \"Env_list\",\n  data: function data() {\n    return {\n      setting_api_id: '',\n      dialogFormVisible: false,\n      dialogFormVisible2: false,\n      api_shop_list: [],\n      form_data: {},\n      project_list_data: []\n    };\n  },\n  methods: {\n    open_detail_new: function open_detail_new() {\n      this.dialogFormVisible = true;\n      this.form_data = {\n        params: '[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n        headers: '[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n        payload_fd: '[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n        payload_xwfu: '[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]'\n      };\n    },\n    open_detail_old: function open_detail_old(index) {\n      this.dialogFormVisible = true;\n      this.form_data = this.api_shop_list[index];\n    },\n    save_api_shop: function save_api_shop() {\n      var _this = this;\n\n      axios.post('http://localhost:8000/save_api_shop/', this.form_data).then(function (res) {\n        _this.api_shop_list = res.data;\n        _this.dialogFormVisible = false;\n      });\n    },\n    delete_api_shop: function delete_api_shop(api_id) {\n      var _this2 = this;\n\n      axios.get('http://localhost:8000/delete_api_shop/', {\n        params: {\n          api_id: api_id\n        }\n      }).then(function (res) {\n        _this2.api_shop_list = res.data;\n      });\n    },\n    open_project_list: function open_project_list(api_id) {\n      var _this3 = this;\n\n      this.setting_api_id = api_id;\n      this.dialogFormVisible2 = true;\n      axios.get('http://localhost:8000/get_project_list/').then(function (res) {\n        _this3.project_list_data = res.data;\n      });\n    },\n    download_api: function download_api(project_id) {\n      axios.get('http://localhost:8000/download_api/', {\n        params: {\n          project_id: project_id,\n          api_id: this.setting_api_id\n        }\n      }).then(this.$message({\n        message: \"下载成功\",\n        type: 'success'\n      }));\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    axios.get('http://localhost:8000/get_api_shop_list/').then(function (res) {\n      _this4.api_shop_list = res.data;\n    });\n  },\n  components: {\n    Menu: Menu\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;EACAA,gBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,kBADA;MAEAC,wBAFA;MAGAC,yBAHA;MAIAC,iBAJA;MAKAC,aALA;MAQAC;IARA;EAWA,CAdA;EAeAC;IACAC,eADA,6BACA;MACA;MACA;QACAC,0CADA;QAEAC,2CAFA;QAGAC,8CAHA;QAIAC;MAJA;IAMA,CATA;IAUAC,eAVA,2BAUAC,KAVA,EAUA;MACA;MACA;IACA,CAbA;IAcAC,aAdA,2BAcA;MAAA;;MACAC;QACA;QACA;MACA,CAHA;IAIA,CAnBA;IAoBAC,eApBA,2BAoBAC,MApBA,EAoBA;MAAA;;MACAF;QACAP;UACAS;QADA;MADA,GAIAC,IAJA,CAIA;QACA;MACA,CANA;IAOA,CA5BA;IA6BAC,iBA7BA,6BA6BAF,MA7BA,EA6BA;MAAA;;MACA;MACA;MACAF;QACA;MACA,CAFA;IAGA,CAnCA;IAoCAK,YApCA,wBAoCAC,UApCA,EAoCA;MACAN;QACAP;UACAa,sBADA;UAEAJ;QAFA;MADA,GAKAC,IALA,CAMA;QACAI,eADA;QAEAC;MAFA,EANA;IAWA;EAhDA,CAfA;EAiEAC,OAjEA,qBAiEA;IAAA;;IACAT,2DACA;MACA;IACA,CAHA;EAKA,CAvEA;EAwEAU;IACAC;EADA;AAxEA","names":["name","data","setting_api_id","dialogFormVisible","dialogFormVisible2","api_shop_list","form_data","project_list_data","methods","open_detail_new","params","headers","payload_fd","payload_xwfu","open_detail_old","index","save_api_shop","axios","delete_api_shop","api_id","then","open_project_list","download_api","project_id","message","type","mounted","components","Menu"],"sourceRoot":"src/views","sources":["Api_shop.vue"],"sourcesContent":["<template>\n    <div>\n        <el-container>\n            <el-aside style=\" width: 200px;\">\n                <Menu></Menu>\n            </el-aside>\n            <el-main>\n                <h1>接口商店 <span style=\"color: grey;font-size: xx-small\">（点击下载即可把接口下载到自己的项目中）</span></h1>\n\n                <el-table\n                    :data=\"api_shop_list\"\n                    stripe\n                    border\n                    style=\"min-width: 100%;min-height: 100%;overflow-y: auto\"\n                >\n                    <el-table-column\n                        prop=\"id\"\n                        label=\"ID\"\n                        width=\"100\"\n                    >\n                    </el-table-column>\n\n                    <el-table-column\n                        prop=\"label\"\n                        label=\"名称\"\n                        width=\"100\"\n                    >\n                    </el-table-column>\n\n                    <el-table-column\n                        prop=\"des\"\n                        label=\"描述\"\n                        width=\"200\"\n                    >\n\n                    </el-table-column>\n\n                    <el-table-column\n                        prop=\"path\"\n                        label=\"路径\"\n                        width=\"300\"\n                    >\n\n                    </el-table-column>\n\n                    <el-table-column>\n                        <template slot=\"header\">\n                            <el-button @click=\"open_detail_new\">新增接口</el-button>\n                        </template>\n                        <template slot-scope=\"scope\">\n                            <el-button size=\"mini\" type=\"primary\"  @click=\"open_detail_old(scope.$index)\">编辑</el-button>\n                            <el-button size=\"mini\" type=\"success\"  @click=\"open_project_list(scope.row.id)\">下载</el-button>\n                            <el-button size=\"mini\" type=\"danger\"  @click=\"delete_api_shop(scope.row.id)\">删除</el-button>\n                        </template>\n                    </el-table-column>\n\n                </el-table>\n            </el-main>\n        </el-container>\n        <el-dialog title=\"创建/保存接口\" :visible.sync=\"dialogFormVisible\">\n            <el-form :model=\"form_data\">\n                <el-form-item label=\"接口名称\" label-width=\"80px\">\n                    <el-input v-model=\"form_data.label\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"接口描述\" label-width=\"80px\">\n                    <el-input v-model=\"form_data.des\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"host域名\" label-width=\"80px\">\n                    <el-input v-model=\"form_data.host\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"path路径\" label-width=\"80px\">\n                    <el-input v-model=\"form_data.path\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"请求方式\" label-width=\"80px\">\n                    <el-radio-group v-model=\"form_data.method\">\n                        <el-radio label=\"post\">post</el-radio>\n                        <el-radio label=\"get\">get</el-radio>\n                        <el-radio label=\"delete\">delete</el-radio>\n                        <el-radio label=\"put\">put</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <el-form-item label=\"Headers\" label-width=\"80px\">\n                                        <el-input v-model=\"form_data.headers\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"Params\" label-width=\"80px\">\n                                        <el-input v-model=\"form_data.params\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"payload_method\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_method\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"payload_fd\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_fd\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"payload_xwfu\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_xwfu\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"payload_raw_method\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_raw_method\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"payload_raw\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_raw\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"payload_GQL_q\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_GQL_q\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"payload_GQL_g\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_GQL_g\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"payload_binary\" label-width=\"120px\">\n                                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"form_data.payload_binary\"></el-input>\n                </el-form-item>\n\n\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"save_api_shop\">保 存</el-button>\n              </div>\n        </el-dialog>\n        <el-dialog title=\"选择任意项目来接收该接口\" :visible.sync=\"dialogFormVisible2\">\n            <el-table :data=\"project_list_data\" style=\"width: 100%\">\n                <el-table-column label-width=\"100\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"mini\" type=\"success\" @click=\"download_api(scope.row.id)\" >下载</el-button>\n                    </template>\n                </el-table-column>\n\n                <el-table-column label=\"项目id\" label-width=\"100\">\n                    <template slot-scope=\"scope\">\n                        <span>{{ scope.row.id }}</span>\n                    </template>\n                </el-table-column>\n\n                 <el-table-column label=\"创建者\" label-width=\"100\">\n                     <template slot-scope=\"scope\">\n                        <span>{{ scope.row.creater_name }}</span>\n                    </template>\n                </el-table-column>\n\n                 <el-table-column label=\"项目名称\" label-width=\"100\">\n                     <template slot-scope=\"scope\">\n                        <span>{{ scope.row.name }}</span>\n                    </template>\n                </el-table-column>\n\n            </el-table>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import Menu from '../components/Menu'\n    import axios from 'axios'\n    export default {\n        name: \"Env_list\",\n        data(){\n          return{\n              setting_api_id:'',\n              dialogFormVisible:false,\n             dialogFormVisible2:false,\n             api_shop_list:[],\n              form_data:{\n\n              },\n              project_list_data:[],\n\n            }\n        },\n        methods:{\n            open_detail_new(){\n                this.dialogFormVisible = true\n                this.form_data = {\n                    params:'[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n                    headers:'[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n                    payload_fd:'[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n                    payload_xwfu:'[{\"key\":\"\",\"value\":\"\",\"des\":\"\"}]',\n              }\n            },\n            open_detail_old(index){\n                this.dialogFormVisible = true;\n                this.form_data = this.api_shop_list[index]\n            },\n            save_api_shop(){\n                axios.post('http://localhost:8000/save_api_shop/',this.form_data).then(res=>{\n                    this.api_shop_list = res.data;\n                    this.dialogFormVisible = false;\n                })\n            },\n            delete_api_shop(api_id){\n                axios.get('http://localhost:8000/delete_api_shop/',{\n                    params:{\n                        api_id:api_id\n                    }\n                }).then(res=>{\n                    this.api_shop_list = res.data\n                })\n            },\n            open_project_list(api_id){\n                this.setting_api_id = api_id;\n                this.dialogFormVisible2 = true;\n                axios.get('http://localhost:8000/get_project_list/').then(res=>{\n                    this.project_list_data = res.data\n                })\n            },\n            download_api(project_id){\n                axios.get('http://localhost:8000/download_api/',{\n                    params:{\n                        project_id : project_id,\n                        api_id : this.setting_api_id,\n                    }\n                }).then(\n                    this.$message({\n                        message:\"下载成功\",\n                        type:'success',\n                    })\n                )\n            },\n        },\n        mounted(){\n            axios.get('http://localhost:8000/get_api_shop_list/').then(\n                res=>{\n                    this.api_shop_list = res.data;\n                }\n            )\n        },\n        components:{\n            Menu\n        }\n    }\n</script>\n\n<style scoped>\n .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n\n  }\n  .el-main {\n    background-color: white;\n    color: #333;\n  }\n</style>"]}]}